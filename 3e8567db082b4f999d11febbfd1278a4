{
    "assignee": null,
    "blocks": [],
    "close_status": null,
    "closed_at": null,
    "comments": [
        {
            "comment": "Yep - I installed `xorg-x11-drv-amdgpu` and now I can log in with GNOME on Xorg! `amdgpu` is the video card I have - AMD \"Bonaire\" (\"Sea Islands\" architecture). ",
            "date_created": "1536645159",
            "edited_on": null,
            "editor": null,
            "id": 530679,
            "notification": false,
            "parent": null,
            "user": {
                "default_email": "znmeb@znmeb.net",
                "emails": [
                    "znmeb@znmeb.net"
                ],
                "fullname": "M. Edward (Ed) Borasky",
                "name": "znmeb"
            }
        },
        {
            "comment": "@mclasen should this be included in the workstation comps ? ",
            "date_created": "1536679212",
            "edited_on": null,
            "editor": null,
            "id": 530802,
            "notification": false,
            "parent": null,
            "user": {
                "default_email": "dusty@dustymabe.com",
                "emails": [
                    "dusty@dustymabe.com",
                    "dustymabe@redhat.com"
                ],
                "fullname": "Dusty Mabe",
                "name": "dustymabe"
            }
        },
        {
            "comment": "I'd say it's a must-have - the older AMD cards will work with the `radeon` or `ati` drivers but the newer ones need `amdgpu`. \r\n\r\nhttps://www.phoronix.com/scan.php?page=search&q=AMDGPU",
            "date_created": "1536688021",
            "edited_on": "1536688094",
            "editor": {
                "default_email": "znmeb@znmeb.net",
                "emails": [
                    "znmeb@znmeb.net"
                ],
                "fullname": "M. Edward (Ed) Borasky",
                "name": "znmeb"
            },
            "id": 530830,
            "notification": false,
            "parent": null,
            "user": {
                "default_email": "znmeb@znmeb.net",
                "emails": [
                    "znmeb@znmeb.net"
                ],
                "fullname": "M. Edward (Ed) Borasky",
                "name": "znmeb"
            }
        },
        {
            "comment": "> I'd say it's a must-have - \r\n\r\nI don't disagree, i'm just trying to pass on the information to someone who can do something about it.\r\n\r\nI'd also say: if you can reproduce this by installing vanilla fedora workstation (not silverblue) then we probably have a blocker bug.\r\n\r\n",
            "date_created": "1536689775",
            "edited_on": null,
            "editor": null,
            "id": 530844,
            "notification": false,
            "parent": null,
            "user": {
                "default_email": "dusty@dustymabe.com",
                "emails": [
                    "dusty@dustymabe.com",
                    "dustymabe@redhat.com"
                ],
                "fullname": "Dusty Mabe",
                "name": "dustymabe"
            }
        },
        {
            "comment": "hey @znmeb I talked with the hero of fedora himself:\r\n\r\n```\r\nadamw | yeah...                                                         \r\nadamw | xorg-x11-drv-amdgpu is not in base-x indeed                     \r\nadamw | might be a tricky vote for blocker status but i'd be FE at least\r\n```\r\n\r\nso let's go ahead and open a bug for this. Can you click [this link](https://bugzilla.redhat.com/enter_bug.cgi?product=Fedora&component=distribution) to open a bug against the `distribution` component of Fedora so that we can track it as a blocker/FE for beta? ",
            "date_created": "1536690292",
            "edited_on": null,
            "editor": null,
            "id": 530845,
            "notification": false,
            "parent": null,
            "user": {
                "default_email": "dusty@dustymabe.com",
                "emails": [
                    "dusty@dustymabe.com",
                    "dustymabe@redhat.com"
                ],
                "fullname": "Dusty Mabe",
                "name": "dustymabe"
            }
        },
        {
            "comment": "Is xorg-x11-drv-modesetting installed? Per @ajax , he would usually expect that driver to work in this case.\r\n\r\nEdit: actually modesetting is part of xorg-x11-server-Xorg now, according to @ajax ...so it should've been available. Can we tell why it wasn't, or didn't work, at all?",
            "date_created": "1536690570",
            "edited_on": "1536690753",
            "editor": {
                "default_email": "adamwill@fedoraproject.org",
                "emails": [
                    "adamwill",
                    "adamwill@fedoraproject.org",
                    "awilliam@redhat.com"
                ],
                "fullname": "Adam Williamson",
                "name": "adamwill"
            },
            "id": 530848,
            "notification": false,
            "parent": null,
            "user": {
                "default_email": "adamwill@fedoraproject.org",
                "emails": [
                    "adamwill",
                    "adamwill@fedoraproject.org",
                    "awilliam@redhat.com"
                ],
                "fullname": "Adam Williamson",
                "name": "adamwill"
            }
        },
        {
            "comment": "do you see anything missing from this list: https://pagure.io/workstation-ostree-config/blob/master/f/fedora-common-ostree-pkgs.json#_219-233 ?\r\n\r\nthese manifests get synced with comps via a script. ",
            "date_created": "1536691004",
            "edited_on": "1536691053",
            "editor": {
                "default_email": "dusty@dustymabe.com",
                "emails": [
                    "dusty@dustymabe.com",
                    "dustymabe@redhat.com"
                ],
                "fullname": "Dusty Mabe",
                "name": "dustymabe"
            },
            "id": 530851,
            "notification": false,
            "parent": null,
            "user": {
                "default_email": "dusty@dustymabe.com",
                "emails": [
                    "dusty@dustymabe.com",
                    "dustymabe@redhat.com"
                ],
                "fullname": "Dusty Mabe",
                "name": "dustymabe"
            }
        },
        {
            "comment": "> do you see anything missing from this list: https://pagure.io/workstation-ostree-config/blob/master/f/fedora-common-ostree-pkgs.json#_219-233 ?\r\n> these manifests get synced with comps via a script.\r\n\r\nThat list looks fine.\r\n\r\nI'd be a little cautious in attempting to fix this by installing amdgpu, at least in a \"release blocker\" sense. Existing machines where this bug doesn't appear might find themselves running amdgpu instead of modesetting; probably that's fine, but it's a larger change than you might be willing to absorb.\r\n\r\nThere's a patch in xserver master that looks relevant. Try this test build instead (without amdgpu installed):\r\n\r\nhttps://koji.fedoraproject.org/koji/taskinfo?taskID=29620484",
            "date_created": "1536693226",
            "edited_on": null,
            "editor": null,
            "id": 530853,
            "notification": false,
            "parent": null,
            "user": {
                "default_email": "ajax@redhat.com",
                "emails": [
                    "ajax@redhat.com"
                ],
                "fullname": "Adam Jackson",
                "name": "ajax"
            }
        },
        {
            "comment": "I can run tests / grab logs on this system if you want - I don't know\r\nwhether modesetting worked or not.\r\n\r\nOn Tue, Sep 11, 2018 at 12:13 PM Adam Jackson <pagure@pagure.io> wrote:\r\n\r\n>\r\n> ajax added a new comment to an issue you are following:\r\n> ``\r\n> > do you see anything missing from this list:\r\n> https://pagure.io/workstation-ostree-config/blob/master/f/fedora-common-ostree-pkgs.json#_219-233\r\n> ?\r\n> > these manifests get synced with comps via a script.\r\n>\r\n> That list looks fine.\r\n>\r\n> I'd be a little cautious in attempting to fix this by installing amdgpu,\r\n> at least in a \"release blocker\" sense. Existing machines where this bug\r\n> doesn't appear might find themselves running amdgpu instead of modesetting;\r\n> probably that's fine, but it's a larger change than you might be willing to\r\n> absorb.\r\n>\r\n> There's a patch in xserver master that looks relevant. Try this test build\r\n> instead (without amdgpu installed):\r\n>\r\n> https://koji.fedoraproject.org/koji/taskinfo?taskID=29620484\r\n> ``\r\n>\r\n> To reply, visit the link below or just reply to this email\r\n> https://pagure.io/teamsilverblue/issue/37\r\n>\r\n-- \r\nHow many people can stand on the shoulders of a giant before the giant\r\ncollapses?\r\n",
            "date_created": "1536693415",
            "edited_on": null,
            "editor": null,
            "id": 530856,
            "notification": false,
            "parent": null,
            "user": {
                "default_email": "znmeb@znmeb.net",
                "emails": [
                    "znmeb@znmeb.net"
                ],
                "fullname": "M. Edward (Ed) Borasky",
                "name": "znmeb"
            }
        },
        {
            "comment": "@znmeb yes, please do test. Basically, what @ajax is saying is, you shouldn't *need* to install xorg-x11-drv-amdgpu : X should work with the 'modesetting' driver. He thinks the reason it didn't might be a bug that is fixed by https://koji.fedoraproject.org/koji/taskinfo?taskID=29620484 .\r\n\r\nSo basically we would like you to test the affected system *without* xorg-x11-drv-amdgpu installed, but *with* your system updated with the packages from that scratch build, and see if X works that way.\r\n\r\nThanks!",
            "date_created": "1536693707",
            "edited_on": null,
            "editor": null,
            "id": 530858,
            "notification": false,
            "parent": null,
            "user": {
                "default_email": "adamwill@fedoraproject.org",
                "emails": [
                    "adamwill",
                    "adamwill@fedoraproject.org",
                    "awilliam@redhat.com"
                ],
                "fullname": "Adam Williamson",
                "name": "adamwill"
            }
        },
        {
            "comment": "I did have Fedora 28 standard installed a couple of weeks ago but I don't remember trying it with GNOME on Xorg. ",
            "date_created": "1536693904",
            "edited_on": null,
            "editor": null,
            "id": 530859,
            "notification": false,
            "parent": null,
            "user": {
                "default_email": "znmeb@znmeb.net",
                "emails": [
                    "znmeb@znmeb.net"
                ],
                "fullname": "M. Edward (Ed) Borasky",
                "name": "znmeb"
            }
        },
        {
            "comment": "@znmeb can you do a few things for us:\r\n\r\n- open a bug in bugzilla for this issue: [link](https://bugzilla.redhat.com/enter_bug.cgi?product=Fedora&component=distribution)\r\n- test out the above `xorg-x11-server` build by\r\n\r\nto do the 2nd part:\r\n\r\n- First remove the `xorg-x11-drv-amdgpu` with `rpm-ostree uninstall xorg-x11-drv-amdgpu`\r\n- download `xorg-x11-server` rpms from x86_64 koji build and run `rpm-ostree override replace rpm1.rpm rpm2.rpm rpm3.rpm...`\r\n- reboot",
            "date_created": "1536695031",
            "edited_on": "1536695091",
            "editor": {
                "default_email": "dusty@dustymabe.com",
                "emails": [
                    "dusty@dustymabe.com",
                    "dustymabe@redhat.com"
                ],
                "fullname": "Dusty Mabe",
                "name": "dustymabe"
            },
            "id": 530860,
            "notification": false,
            "parent": null,
            "user": {
                "default_email": "dusty@dustymabe.com",
                "emails": [
                    "dusty@dustymabe.com",
                    "dustymabe@redhat.com"
                ],
                "fullname": "Dusty Mabe",
                "name": "dustymabe"
            }
        },
        {
            "comment": "OK ... it'll be an hour or so before I can get back to it though.\r\n\r\nOn Tue, Sep 11, 2018 at 12:43 PM Dusty Mabe <pagure@pagure.io> wrote:\r\n\r\n>\r\n> dustymabe added a new comment to an issue you are following:\r\n> ``\r\n> @znmeb can you do a few things for us:\r\n>\r\n> - open a bug in bugzilla for this issue: [link](\r\n> https://bugzilla.redhat.com/enter_bug.cgi?product=Fedora&component=distribution\r\n> )\r\n> - test out the above `xorg-x11-server` build by\r\n>\r\n> to do the 2nd part:\r\n>\r\n> - First remove the `xorg-x11-drv-amdgpu` with `rpm-ostree uninstall\r\n> xorg-x11-drv-amdgpu`\r\n> - download `xorg-x11-server` rpms from x86_64 koji build and run\r\n> `rpm-ostree override replace rpm1.rpm rpm2.rpm rpm3.rpm...`\r\n> ``\r\n>\r\n> To reply, visit the link below or just reply to this email\r\n> https://pagure.io/teamsilverblue/issue/37\r\n>\r\n-- \r\nHow many people can stand on the shoulders of a giant before the giant\r\ncollapses?\r\n",
            "date_created": "1536698443",
            "edited_on": null,
            "editor": null,
            "id": 530879,
            "notification": false,
            "parent": null,
            "user": {
                "default_email": "znmeb@znmeb.net",
                "emails": [
                    "znmeb@znmeb.net"
                ],
                "fullname": "M. Edward (Ed) Borasky",
                "name": "znmeb"
            }
        },
        {
            "comment": "Bugzilla done - https://bugzilla.redhat.com/show_bug.cgi?id=1627913\r\n\r\nIs there a link to the RPMs? I didn't see it go by.",
            "date_created": "1536698984",
            "edited_on": "1536699214",
            "editor": {
                "default_email": "znmeb@znmeb.net",
                "emails": [
                    "znmeb@znmeb.net"
                ],
                "fullname": "M. Edward (Ed) Borasky",
                "name": "znmeb"
            },
            "id": 530881,
            "notification": false,
            "parent": null,
            "user": {
                "default_email": "znmeb@znmeb.net",
                "emails": [
                    "znmeb@znmeb.net"
                ],
                "fullname": "M. Edward (Ed) Borasky",
                "name": "znmeb"
            }
        },
        {
            "comment": "They're under https://koji.fedoraproject.org/koji/taskinfo?taskID=29620484 . Assuming you want x86_64, they're at https://koji.fedoraproject.org/koji/taskinfo?taskID=29620485 . You only need the ones that update packages you have installed, no need to install all the others too.",
            "date_created": "1536700701",
            "edited_on": null,
            "editor": null,
            "id": 530889,
            "notification": false,
            "parent": null,
            "user": {
                "default_email": "adamwill@fedoraproject.org",
                "emails": [
                    "adamwill",
                    "adamwill@fedoraproject.org",
                    "awilliam@redhat.com"
                ],
                "fullname": "Adam Williamson",
                "name": "adamwill"
            }
        },
        {
            "comment": "```\r\n[znmeb@Silverblue xorg]$ rpm-ostree override replace ~/Downloads/xorg-x11-server-*.rpm\r\nerror: The connection is closed\r\n[znmeb@Silverblue xorg]$ rpm-ostree override replace ~/Downloads/xorg-x11-server-1.19.6-10.fc28.src.rpm \r\nerror: Importing xorg-x11-server: Unsupported path: /0001-Always-install-vbe-and-int10-sdk-headers.patch; See https://github.com/projectatomic/rpm-ostree/issues/233\r\n```\r\n\r\nHow do I get a list of which ones are installed?",
            "date_created": "1536700968",
            "edited_on": "1536701294",
            "editor": {
                "default_email": "znmeb@znmeb.net",
                "emails": [
                    "znmeb@znmeb.net"
                ],
                "fullname": "M. Edward (Ed) Borasky",
                "name": "znmeb"
            },
            "id": 530890,
            "notification": false,
            "parent": null,
            "user": {
                "default_email": "znmeb@znmeb.net",
                "emails": [
                    "znmeb@znmeb.net"
                ],
                "fullname": "M. Edward (Ed) Borasky",
                "name": "znmeb"
            }
        },
        {
            "comment": "in a few hours I can send you the exact commands.. ",
            "date_created": "1536701284",
            "edited_on": null,
            "editor": null,
            "id": 530891,
            "notification": false,
            "parent": null,
            "user": {
                "default_email": "dusty@dustymabe.com",
                "emails": [
                    "dusty@dustymabe.com",
                    "dustymabe@redhat.com"
                ],
                "fullname": "Dusty Mabe",
                "name": "dustymabe"
            }
        },
        {
            "comment": "OK - I'll get back to this about 17:00 PST8PDT",
            "date_created": "1536701359",
            "edited_on": null,
            "editor": null,
            "id": 530892,
            "notification": false,
            "parent": null,
            "user": {
                "default_email": "znmeb@znmeb.net",
                "emails": [
                    "znmeb@znmeb.net"
                ],
                "fullname": "M. Edward (Ed) Borasky",
                "name": "znmeb"
            }
        },
        {
            "comment": "(re installed packages) On an ostree system, I'm not sure :) You will only need the x86_64.rpm packages, though, you won't want the .src.rpm one. I'd guess probably xorg-x11-server-Xorg, xorg-x11-server-common, and xorg-x11-server-Xwayland .",
            "date_created": "1536705746",
            "edited_on": null,
            "editor": null,
            "id": 530896,
            "notification": false,
            "parent": null,
            "user": {
                "default_email": "adamwill@fedoraproject.org",
                "emails": [
                    "adamwill",
                    "adamwill@fedoraproject.org",
                    "awilliam@redhat.com"
                ],
                "fullname": "Adam Williamson",
                "name": "adamwill"
            }
        },
        {
            "comment": "any news, @znmeb ?",
            "date_created": "1536715975",
            "edited_on": null,
            "editor": null,
            "id": 530902,
            "notification": false,
            "parent": null,
            "user": {
                "default_email": "adamwill@fedoraproject.org",
                "emails": [
                    "adamwill",
                    "adamwill@fedoraproject.org",
                    "awilliam@redhat.com"
                ],
                "fullname": "Adam Williamson",
                "name": "adamwill"
            }
        },
        {
            "comment": "> any news, @znmeb ?\r\n\r\nI have the RPMs downloaded but haven't found an `rpm-ostree` command to install one - I keep getting errors.\r\n\r\n```\r\n$ rpm-ostree override replace --install=xorg-x11-server ./xorg-x11-server-1.19.6-10.fc28.src.rpm \r\nerror: Importing xorg-x11-server: Unsupported path: /0001-Always-install-vbe-and-int10-sdk-headers.patch; See https://github.com/projectatomic/rpm-ostree/issues/233\r\n```\r\n\r\n`rpm-ostree override replace --help` doesn't have any clues",
            "date_created": "1536719466",
            "edited_on": null,
            "editor": null,
            "id": 530906,
            "notification": false,
            "parent": null,
            "user": {
                "default_email": "znmeb@znmeb.net",
                "emails": [
                    "znmeb@znmeb.net"
                ],
                "fullname": "M. Edward (Ed) Borasky",
                "name": "znmeb"
            }
        },
        {
            "comment": "@znmeb - i'm working on this now.. sorry I got caught up in \"hurricane prep\" and forgot about this. \r\n\r\nstand by",
            "date_created": "1536720345",
            "edited_on": null,
            "editor": null,
            "id": 530909,
            "notification": false,
            "parent": null,
            "user": {
                "default_email": "dusty@dustymabe.com",
                "emails": [
                    "dusty@dustymabe.com",
                    "dustymabe@redhat.com"
                ],
                "fullname": "Dusty Mabe",
                "name": "dustymabe"
            }
        }
    ],
    "content": "How to reproduce:\r\n\r\n1. Log in to Silverblue 28 with the default (GNOME - default is Wayland), it works.\r\n2. Log out.\r\n3. Try to log in with \"GNOME on Xorg\". The screen flashes and it goes back to the login screen.\r\n\r\nWhat's happening is that X is segfaulting - see attached Xorg.0.log. Are there some packages missing?\r\n[![Xorg.0.log](/teamsilverblue/issue/raw/015db9137f3dd492da777fbb2b58a071ae8d57370f397585cb01a27c1c8cc1a7-Xorg.0.log)](/teamsilverblue/issue/raw/015db9137f3dd492da777fbb2b58a071ae8d57370f397585cb01a27c1c8cc1a7-Xorg.0.log)\r\n",
    "custom_fields": [],
    "date_created": "1536639000",
    "depends": [],
    "id": 37,
    "last_updated": "1536720345",
    "milestone": null,
    "priority": null,
    "private": false,
    "status": "Open",
    "tags": [],
    "title": "Can't log in as \"GNOME on Xorg\" on Silverblue 28",
    "user": {
        "default_email": "znmeb@znmeb.net",
        "emails": [
            "znmeb@znmeb.net"
        ],
        "fullname": "M. Edward (Ed) Borasky",
        "name": "znmeb"
    }
}